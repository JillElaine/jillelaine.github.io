<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>JillElaine jquery-idleTimeout - Demo Page</title>

		<link type="text/css" rel="stylesheet" href="http://jillelaine.github.io/main.css"/>
		<link type="text/css" rel="stylesheet" href="http://jillelaine.github.io/jquery-ui-1.8.21.custom.css"/>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"></script>
		<script src="https://raw.githubusercontent.com/marcuswestin/store.js/master/store.min.js" type="text/javascript"></script>
		<script src="http://jillelaine.github.io/jquery-idleTimeout.js" type="text/javascript"></script>

		<script type="text/javascript" charset="utf-8">
      $(document).ready(function(){
        $(document).idleTimeout({
          idleTimeLimit: 30000,         // 30 seconds
          dialogDisplayLimit: 30000,   // Time to display the warning dialog before redirect (and optional callback) in milliseconds
          redirectUrl: 'https://github.com/JillElaine/jquery-idleTimeout',       // redirect to this url
          activityEvents: 'click keypress scroll wheel mousewheel', // separate each event with a space
          sessionKeepAliveTimer: false, // Set to false to disable pings.
        });
      });
		</script>
	</head>

	<body>
    <div>
      <div class="main_banner">
        <h1>JillElaine jquery-idleTimeout Demo Page</h1>
      </div>

      <div class="main_content">
        <h2>Code Page - <a href="https://github.com/JillElaine/jquery-idleTimeout">https://github.com/JillElaine/jquery-idleTimeout</a></h2>

        <p>To see functionality, do not press any keys, click your mouse or scroll your mousewheel for 30 seconds.</p>

        <h3>Functions across multiple windows and tabs within the same domain</h3>

        <p><a href="http://jillelaine.github.io" target="_blank">Try it! Click here to open another browser window/tab of this page.</a></p>

        <ul>
          <li>If a window or tab is logged out, all other windows and tabs will log out too.</li>
          <li>If warning dialog appears on one window/tab, a warning dialog appears on all other 'same domain' windows/tabs too.</li>
          <li>If 'Stay Logged In' button on warning dialog is clicked, warning dialogs on all 'same domain' windows/tabs will be dismissed too.</li>
          <li>If 'Log Out Now' button on warning dialog is clicked, all 'same domain' windows/tabs will log out too.</li>
        </ul>

        <h3>Requirements</h3>
        <ul>
          <li>Marcus Westin's store.js version 1.3.4+ is required. <a href="https://github.com/marcuswestin/store.js">https://github.com/marcuswestin/store.js</a></li>
          <li>JQuery version 1.7+ and JQuery UI are required. You can load Google's JQuery API. Put these statements in your page's 'head'</li>
            <ul>
              <li>&lt;script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"&gt;&lt;/script&gt;</li>
              <li>&lt;script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"&gt;&lt;/script&gt;</li>
            </ul>
        </ul>

        <h3>Functionality & Features</h3>
        <ul>
          <li>Works across multiple windows and tabs within the same domain <strong>thanks to Marcus Westin's store.js.</strong></li>
            <ul>
              <li>Uses localStorage, globalStorage and userData behavior to 'communicate' across multiple browser windows/tabs without cookies or flash!</li>
            </ul>
          <li>If no activity events are detected on any 'same domain' windows/tabs within the 'idleTimeLimit', the warning dialog will appear will appear on all 'same domain' windows/tabs.</li>
            <ul>
              <li>Activy events are configurable: clicks, keypresses, scrolls, and/or mouse movement are options.</li>
              <li><a href="http://www.quirksmode.org/dom/events/">http://www.quirksmode.org/dom/events/</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference/Events">https://developer.mozilla.org/en-US/docs/Web/Reference/Events</a></li>
            </ul>
          <li><strong>The browser title changes on all 'same domain' windows/tabs when the warning dialog appears, and reverts back to the original title(s) if the warning dialog is dismissed.</strong></li>
          <li>If neither button on the warning dialog box is clicked within the 'dialogDisplayLimit', all 'same domain' windows/tabs will redirect to the 'redirectUrl'.</li>
        </ul>

        <h3>Optional Functionality</h3>

        <p>If user manually logs out (without use of the idleTimer), you can force all 'same domain' windows/tabs to redirect to the 'redirectUrl' page by
        adding a small snippet of javascript to the user's 'redirectUrl' page.
        Note that the <strong>all required scripts</strong> must be available on the 'redirectUrl' page for this to work.</p>

        <p>Optional Script</p>
        <p>
          &lt;script type="text/javascript"&gt;
            <br />&nbsp;&nbsp;$(document).ready(function(){
              <br />&nbsp;&nbsp;&nbsp;&nbsp;if (store.enabled) {
                <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;store.set('idleTimerLoggedOut', true);
              <br />&nbsp;&nbsp;&nbsp;&nbsp;} else {
                <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert('Dependent file missing. Please see: https://github.com/marcuswestin/store.js');
              <br />&nbsp;&nbsp;&nbsp;&nbsp;}
            <br />&nbsp;&nbsp;});
          <br />&lt;/script&gt;
        </p>

        <h3>The Demo Runtime Configuration</h3>
        <ul>
          <li>The idle time limit, 'idleTimeLimit', is set to 30 seconds (30000 milliseconds).</li>
          <li>Activity events to detect, 'activityEvents', are set to 'click keypress scroll wheel mousewheel'.</li>
          <li>The warning dialog display limit, 'dialogDisplayLimit', is set to 30 seconds.</li>
          <li>The redirect page, 'redirectUrl', is set to https://github.com/JillElaine/jquery-idleTimeout.</li>
          <li>Session keep alive pings have been disabled.</li>
        </ul>

        <h3>The Demo Runtime Configuration Script</h3>
        <p>
          &lt;script type="text/javascript" charset="utf-8"&gt;
          <br />&nbsp;&nbsp;$(document).ready(function(){
            <br />&nbsp;&nbsp;&nbsp;&nbsp;$(document).idleTimeout({
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idleTimeLimit: 30000,         // 30 seconds
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dialogDisplayLimit: 30000,   // Time to display the warning dialog before redirect (and optional callback) in milliseconds. 30000 = 30 seconds, 180000 = 3 Minutes
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redirectUrl: 'https://github.com/JillElaine/jquery-idleTimeout',       // redirect to this url
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activityEvents: 'click keypress scroll wheel mousewheel', // separate each event with a space
              <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sessionKeepAliveTimer: false, // Set to false to disable pings.
            <br />&nbsp;&nbsp;&nbsp;&nbsp;});
          <br />&nbsp;&nbsp;});
        <br />&lt;/script&gt;
       </p>

      </div>
    </div>
	</body>
</html>


